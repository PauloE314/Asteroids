(()=>{"use strict";const t={desktop:1},e={p:1.618,h:700,w:700*1.618};var n=2*Math.PI;function r(t,e){return Math.random()*(e-t)+t}function i(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=e,a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,"x",0),s(this,"y",0),s(this,"vx",0),s(this,"vy",0),s(this,"ang",0),s(this,"radius",30),s(this,"visible",!0),s(this,"alive",!0),s(this,"onDie",(function(){}))}var e,r;return e=t,(r=[{key:"render",value:function(t){if(this.visible){t.save(),t.translate(this.x,this.y),t.rotate(this.ang);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.draw.apply(this,[t].concat(n)),t.restore()}}},{key:"draw",value:function(t){}},{key:"update",value:function(t){}},{key:"move",value:function(t){this.y+=this.vy*t*.015,this.x+=this.vx*t*.015,this.x>=c.w+this.radius?this.x=0:this.x<-this.radius&&(this.x=c.w),this.y>=c.h+this.radius?this.y=0:this.y<-this.radius&&(this.y=c.h)}},{key:"setAngle",value:function(t){this.ang=t>n?t-n:t}}])&&o(e.prototype,r),t}();function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=e;const h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"HTMLCanvas",null),l(this,"HTMLCvContainer",null),l(this,"ctx",null),l(this,"cvW",0),l(this,"cvH",0),l(this,"ratio",1),this.HTMLCanvas=document.getElementById("cv"),this.HTMLCvContainer=document.querySelector("main"),this.ctx=this.HTMLCanvas.getContext("2d")}var e,n;return e=t,(n=[{key:"init",value:function(){this.screenResize=this.screenResize.bind(this),this.screenResize(),window.addEventListener("resize",this.screenResize)}},{key:"render",value:function(t){var e=this;t.seconds<10&&(t.seconds="0"+t.seconds),this.clear(),this.ctx.font="20px 'Press Start 2P'",this.ctx.fillStyle="white",this.ctx.textAlign="end",this.ctx.fillText("LIFE: ".concat(t.lifeCount,"   SCORE: ").concat(t.score,"   MAX SCORE: ").concat(t.maxScore,"   TIME: ").concat(t.seconds),this.cvW-20,40),this.ctx.lineWidth=1,this.ctx.save(),this.ctx.scale(this.ratio,this.ratio),t.entities.forEach((function(t){return t.render(e.ctx)})),this.ctx.restore()}},{key:"clear",value:function(){this.ctx.fillStyle="black",this.ctx.strokeStyle="white",this.ctx.lineWidth=5,this.ctx.fillRect(0,0,this.cvW,this.cvH),this.ctx.strokeRect(0,0,this.cvW,this.cvH)}},{key:"screenResize",value:function(){var t=this.HTMLCvContainer.getBoundingClientRect(),e=Math.min(t.height*f.p,t.width);this.cvH=e/f.p,this.cvW=e,this.HTMLCanvas.width=this.cvW,this.HTMLCanvas.height=this.cvH,this.ratio=this.cvH/f.h}},{key:"setFilter",value:function(t){this.filter=t}},{key:"end",value:function(){window.removeEventListener("resize",this.screenResize)}}])&&u(e.prototype,n),t}();function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=b(e);if(n){var i=b(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return v(this,t)});function i(){var t;return m(this,i),O(d(t=r.call(this)),"KEY_CODES",{KeyA:0,KeyD:1,KeyW:2,Space:3,KeyP:4}),t.onKeydown=t.onKeydown.bind(d(t)),t.onKeyup=t.onKeyup.bind(d(t)),t}return w(i,[{key:"init",value:function(){document.addEventListener("keydown",this.onKeydown),document.addEventListener("keyup",this.onKeyup)}},{key:"onKeydown",value:function(t){var e=this.KEY_CODES[t.code];void 0!==e&&(this.commands[e]=!0)}},{key:"onKeyup",value:function(t){var e=this.KEY_CODES[t.code];void 0!==e&&(this.commands[e]=!1)}},{key:"end",value:function(){document.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keyup",this.onKeyup)}}]),i}(function(){function t(){m(this,t),O(this,"lastCommand",0),O(this,"commands",[!1,!1,!1,!1,!1])}return w(t,[{key:"init",value:function(){}},{key:"end",value:function(){}}]),t}());function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(u,t);var e,i,o,s,c,a=(s=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=M(s);if(c){var n=M(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return R(this,t)});function u(t,e,n,r,i){var o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return S(this,u),(o=a.call(this)).ang=e,o.x=n,o.y=r,o.vy=Math.sin(e)*i,o.vx=Math.cos(e)*i,o.radius=t,o.opacity=s,o.onRemoveList=!1,o}return e=u,o=[{key:"generateSpreadParticles",value:function(t,e,i,o,s){for(var c=[],a=0;a<t;a++)c.push(new u(s,r(0,n),e,i,o,r(.3,1)));return c}}],(i=[{key:"update",value:function(t){this.y+=this.vy*t*.015,this.x+=this.vx*t*.015}},{key:"render",value:function(t){t.fillStyle="white",t.globalAlpha=this.opacity,t.fillRect(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius),t.globalAlpha=1}}])&&E(e.prototype,i),o&&E(e,o),u}(a);function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=B(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?L(t):e}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H=e,z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(u,t);var e,n,o,s,c,a=(s=u,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=B(s);if(c){var n=B(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return I(this,t)});function u(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),K(L(i=a.call(this)),"vr",0),K(L(i),"dots",[]),i.size=t,i.radius=25*Math.pow(2,i.size),i.x=e,i.y=n,i.vx=r(-10,10),i.vy=r(-10,10),i.vr=r(10,60),i.visible=!0,i.dots=D["smb".charAt(i.size)][(0,2,Math.round(2*Math.random()+0))],i.particles=[],i}return e=u,o=[{key:"generateAsteroids",value:function(t,e){for(var n=[],o=0;o<t;o++){var s={x:0,y:0};do{s.x=r(0,H.w),s.y=r(0,H.h)}while(i(s,e)<250);n.push(new u(0,s.x,s.y))}return n}}],(n=[{key:"render",value:function(t){_(B(u.prototype),"render",this).call(this,t),this.particles.forEach((function(e){return e.render(t)}))}},{key:"draw",value:function(t){t.strokeStyle="white",t.beginPath(),t.moveTo(this.dots[0][0],this.dots[0][1]);for(var e=1;e<7;e++)t.lineTo(this.dots[e][0],this.dots[e][1]);t.closePath(),t.stroke()}},{key:"update",value:function(t){this.setAngle(this.ang+t*this.vr*5e-5),this.particles.forEach((function(e){return e.update(t)})),this.move(t)}}])&&T(e.prototype,n),o&&T(e,o),u}(a),D={s:[[[0,-20],[20,-12],[18,0],[10,26],[-15,8],[-24,7],[-20,-20]],[[12,-24],[22,-10],[18,20],[10,26],[-15,8],[-0,7],[-18,-18]],[[20,-15],[25,10],[10,12],[10,26],[-9,8],[-24,7],[-20,-20]]],m:[[[0,-50],[12,-15],[50,0],[10,45],[-35,35],[-48,5],[-40,-20]],[[-30,-50],[22,-42],[35,15],[0,50],[-20,15],[-50,5],[-40,-20]],[[-28,-30],[32,-30],[12,0],[32,40],[-33,35],[-38,20],[-48,-0]]],b:[[[-80,-60],[30,-90],[90,-40],[50,80],[-64,75],[-38,50],[-70,-0]],[[-40,-44],[0,-95],[88,-44],[70,65],[-40,70],[-50,20],[-90,-30]],[[-42,-83],[68,-60],[38,8],[60,75],[-50,53],[-68,68],[-98,-0]]]};function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function G(t,e,n){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?X(t):e}function X(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N=e,Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(s,t);var e,n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=$(r);if(i){var n=$(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return U(this,t)});function s(){var t;F(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return J(X(t=o.call.apply(o,[this].concat(n))),"x",N.w/2),J(X(t),"y",N.h/2),J(X(t),"collisionCounter",0),J(X(t),"alive",!0),J(X(t),"visible",!0),J(X(t),"canMove",!0),J(X(t),"canShot",!0),J(X(t),"isMoving",!1),J(X(t),"shotting",!1),J(X(t),"particles",[]),J(X(t),"shots",[]),t}return e=s,(n=[{key:"render",value:function(t){G($(s.prototype),"render",this).call(this,t),this.shots.forEach((function(e){return e.render(t)})),this.particles.forEach((function(e){return e.render(t)}))}},{key:"draw",value:function(t){t.beginPath(),t.moveTo(30,0),t.lineTo(-15,-15),t.lineTo(-10,0),t.lineTo(-15,15),t.closePath(),t.stroke(),this.isMoving&&(t.beginPath(),t.moveTo(-13,-10),t.lineTo(-25,0),t.lineTo(-13,10),t.stroke())}},{key:"update",value:function(t,e){if(this.collisionCounter+=.05*t,this.canMove){e[0]&&this.setAngle(this.ang-.005*t),e[1]&&this.setAngle(this.ang+.005*t),e[2]?this.isMoving=!0:this.isMoving=!1;var n=this.vy+Math.sin(this.ang)*this.isMoving*t*.06,r=this.vx+Math.cos(this.ang)*this.isMoving*t*.06;Math.abs(n)<=30&&(this.vy=n),Math.abs(r)<=30&&(this.vx=r),G($(s.prototype),"move",this).call(this,t)}if(this.canShot)if(e[3]){if(!this.shotting){this.shotting=!0;var i=.9*Math.sqrt(Math.pow(this.vy,2)+Math.pow(this.vx,2))+15,o=new j(2,this.ang,this.x+30*Math.cos(this.ang),this.y+30*Math.sin(this.ang),i);this.shots.push(o)}}else this.shotting=!1;this.shots.forEach((function(e){return e.update(t)})),this.particles.forEach((function(e){e.update(t)}))}},{key:"die",value:function(){var t=this;return new Promise((function(e,n){t.alive=!1,t.visible=!1,t.canMove=!1,t.canShot=!1,t.particles=j.generateSpreadParticles(10,t.x,t.y,10,2),setTimeout((function(){t.particles=[],e()}),1e3)}))}},{key:"respawn",value:function(){var t=this;this.reset(),this.alive=!1,this.canShot=!1;var e=setInterval((function(){t.visible=!t.visible}),300);setTimeout((function n(){t.collisionCounter>20?(clearInterval(e),t.visible=!0,t.alive=!0,t.canShot=!0):setTimeout(n,1e3)}),2e3)}},{key:"reset",value:function(){this.x=N.w/2,this.y=N.h/2,this.vx=0,this.vy=0,this.ang=0,this.collisionCounter=0,this.alive=!0,this.visible=!0,this.canMove=!0,this.canShot=!0,this.isMoving=!1,this.shotting=!1,this.particles=[],this.shots=[]}}])&&q(e.prototype,n),s}(a);function V(t){return function(t){if(Array.isArray(t))return Z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var et,nt=e,rt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.frameId=null,this.player=new Q,this.renderer=new h,this.controller=new x,this.renderer.init(),this.controller.init(),this.asteroids=z.generateAsteroids(8,this.player),this.score=0,this.lifeCount=3,this.time={dt:0,last:0,start:Date.now()},this.maxScore=0}var e,n;return e=t,(n=[{key:"onGameOver",value:function(){}},{key:"run",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{this.time.dt=e-this.time.last,this.frameId=requestAnimationFrame(this.run.bind(this)),this.time.dt>20&&(this.time.last=e,this.player.update(this.time.dt,this.controller.commands),this.asteroids.forEach((function(e){return e.update(t.time.dt)})),this.renderer.render({lifeCount:this.lifeCount,score:this.score,maxScore:this.maxScore,seconds:((Date.now()-this.time.start)/1e3).toFixed(0),entities:[this.player].concat(V(this.asteroids))}),this.logic())}catch(t){console.log(t)}}},{key:"logic",value:function(){var t=this,e=this.player,n=this.player.shots;if(0===this.asteroids.length){var r=this.player.ang;this.player.reset(),this.player.ang=r,this.asteroids=z.generateAsteroids(8,this.player)}this.asteroids.forEach((function(r){i(r,e)<.8*(e.radius+r.radius)&&(e.collisionCounter=0,e.alive&&(t.lifeCount--,e.die().then((function(){t.lifeCount>0?e.respawn():t.gameOver()})))),n.forEach((function(e){i(r,e)<.9*r.radius&&(t.score+=50*r.size+100,0!==r.size&&t.asteroids.push(new z(r.size-1,r.x,r.y),new z(r.size-1,r.x,r.y)),r.alive=!1,e.alive=!1)}))})),this.asteroids=this.asteroids.filter((function(t){return t.alive})),e.shots=n.filter((function(t){return t.alive&&t.x<nt.w&&t.x>0&&t.y<nt.h&&t.y>0}))}},{key:"reset",value:function(){this.renderer.end(),this.controller.end(),this.renderer.init(),this.controller.init(),this.player.reset(),this.asteroids=z.generateAsteroids(8,this.player),this.score=0,this.lifeCount=3,this.time={dt:0,last:0,start:Date.now()},this.frameId=0,this.run()}},{key:"gameOver",value:function(){var t=this.maxScore<this.score;t&&(this.maxScore=this.score),this.onGameOver(t)}},{key:"end",value:function(){var t,e;cancelAnimationFrame(this.frameId),null===(t=this.renderer)||void 0===t||t.end(),null===(e=this.controller)||void 0===e||e.end()}}])&&tt(e.prototype,n),t}(),it=t,ot=document.getElementById("page"),st=document.getElementById("play"),ct=document.getElementById("pltf-error"),at=document.getElementById("gm-error"),ut=document.getElementById("gm-over"),lt=document.getElementById("congratulations"),ft=document.getElementById("restart"),ht=document.getElementById("home"),yt=!0;(void 0===window.orientation?it.desktop:it.mobile)!=t.desktop&&(ct.style.display="block",st.style.display="none",yt=!1),yt&&(st.onclick=function(){ot.classList.add("in-game");try{(et=new rt).onGameOver=function(t){ut.style.display="flex",lt.style.display=t?"inline":"none"},et.run(),ft.onclick=function(){ut.style.display="none",et.reset()},ht.onclick=function(){ut.style.display="none",ot.classList.remove("in-game"),et.end(),et=null}}catch(t){ot.classList.remove("in-game"),function(t,e,n){n="An unknown error has occured<br/>'".concat(n=n||"An unknown error has occured","'<br/>"),t&&t.end(),e.style.display="block",e.innerHTML="".concat(n,"<br/> Reloading page in 3");var r=2,i=setInterval((function(){e.innerHTML="".concat(n,"<br/> Reloading page in ").concat(r),--r<0&&(clearInterval(i),window.location.reload())}),1500)}(et,at),et=null,console.log(t)}})})();